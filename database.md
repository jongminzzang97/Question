# 데이터베이스 정리


## 개요
    
    학교에서 배운 내용을 정리한다.


## 데이터베이스 모델링
    
    현실 세계의 개체들은 수많은 특성을 갖는다. 
    예를 들어 한 사람은 이름, 키, 성별, 직업, 수입, 사는 지역, 주민 번호 등 여러 가지 속성들을 가지고 있다. 
    데이터베이스가 이 모든 정보를 갖고 있을 수는 없다는 것뿐만 아니라 다 저장할 필요도 없다는 사실을
    모두 알고 있다.
    필요한 정보만 데이터베이스에 저장하면 되고, 그것을 어떻게 저장하고 있을지가 모델링이라 할 수 있다.


    따라서 데이터베이스를 모델링은 쉽게
    시스템에 필요한 개체는 무엇인지, 개체들이 어느 속성을 가져야 하는지를 정하는 과정이다.

    이 과정애서 굉장히 많은 추상화가 일어났다고 할 수 있다.
    (학생정보시스템에서 필요한 정보는 사람에 대한 모든 정보가 아니다.
    단순히 학번, 이름, 학과 등 몇가지 요소들 만으로 표현될 수 있다.)
    


## 데이터베이스 인덱스
    
    데이터베이스가 학생에 대한 정보를 가지고 있다고해보자
    그리고 간단하게 학생은 이름, 학번, 학과만을 갖는다고 하자.

    데이터베이스에서 sql을 이용하여 어떤 학생을 찾을 때 얼마나 시간이 소요될까?
    튜플들 간에 순서는 없다고 배우니 아마 서치 타임은 O(n)일 것이다.

    그런데 저장을 할 때 순서대로 저장을 하도록 할 수 있다.
    그리고 이를 이용하여 찾을 때의 서치타임을 줄일 수 있다.
    
    위 테이블에서 주키인 학번 순으로 정렬되어 있다고 하면
    내가 1234가 학번인 학생을 찾을 때의 서치 타임은 O(log n)이 된다.
    (binary search를 이용)
    이것은 매우 큰 차이이다. (후에 서술)
    
    그런데 학번 순으로 정렬이 되어있으면
    이름으로 검색할 때는 서치 타임이 O(n)아닌가?
    하나의 기준으로 정렬이 되어 있으면, 그 기준이 아닌 모든 것에 대해서는 다 O(n)으로 서치하게 된다.

    그래서 존재하는 것이 인덱스이다.
    위 예시에서 이름과 학번만을 묶어서 또 다른 구조체을 만들고 이름 순으로 정렬해 놓는 것이다.
    그렇게 하면 이름으로 검색할 때
    그 구조체에서 학번을 O(log n)의 서치타임으로 찾을 수 있다.
    그리고 학번을 이용해서 원래의 테이블에서 검색할 때도 O(log n)만큼이 소요됨으로
    O(log n)의 상수 배 시간만큼 걸린다.

    데이터가 100만개라고 해보자.
    인덱스를 이용하지 않고 이름으로 어떤 데이터를 찾을 때는
    평균 50만번의 비교연산이 필요하다.

    그러나 인덱스를 이용하면 100만 = (2^10)^2 = 2^20 이므로
    20번의 연산 2번, 즉 40번의 연산 만으로 찾을 수 있다.

    데이터가 많을 수록 인덱스의 사용이 더 중요해지는 이유이다.
    
